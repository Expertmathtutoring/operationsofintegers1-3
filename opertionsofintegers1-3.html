<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Balloon Integer Game</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    text-align: center;
    background: linear-gradient(270deg, #ff9a9e, #fad0c4, #fbc2eb, #a6c1ee);
    background-size: 800% 800%;
    animation: gradientBG 20s ease infinite;
    overflow: hidden;
    height: 100vh;
  }
  @keyframes gradientBG {
    0% {background-position:0% 50%}
    50% {background-position:100% 50%}
    100% {background-position:0% 50%}
  }
  #gameContainer {
    position: relative;
    width: 100%;
    height: 90vh;
    overflow: hidden;
  }
  .balloon {
    position: absolute;
    bottom: -100px;
    width: 80px;
    height: 100px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
    cursor: pointer;
    animation: floatUp 8s linear forwards;
  }
  @keyframes floatUp {
    from {bottom: -120px;}
    to {bottom: 100vh;}
  }
  #question {
    font-size: 28px;
    margin: 15px;
    font-weight: bold;
    color: #333;
  }
  #score {
    font-size: 22px;
    margin: 10px;
  }
  #restart {
    padding: 10px 20px;
    font-size: 18px;
    margin-top: 10px;
    cursor: pointer;
    background: #4CAF50;
    color: white;
    border: none;
    border-radius: 6px;
  }
  #restart:hover {
    background: #45a049;
  }
  #feedback {
    font-size: 20px;
    font-weight: bold;
    margin-top: 10px;
    color: #222;
  }
</style>
</head>
<body>
  <h1>🎈 Integer Balloon Game 🎈</h1>
  <div id="question">Press Restart to Begin!</div>
  <div id="score">Score: 0</div>
  <button id="restart">Restart Game</button>
  <div id="feedback"></div>
  <div id="gameContainer"></div>

<script>
let score = 0;
let currentAnswer = null;
let balloonTimeouts = [];
let gameActive = false;

const questionEl = document.getElementById("question");
const scoreEl = document.getElementById("score");
const gameContainer = document.getElementById("gameContainer");
const feedbackEl = document.getElementById("feedback");
const restartBtn = document.getElementById("restart");

// Generate random integer addition/subtraction question
function generateQuestion() {
  const num1 = Math.floor(Math.random() * 41) - 20; // -20 to +20
  const num2 = Math.floor(Math.random() * 41) - 20; // -20 to +20
  const ops = ["+", "-"];
  const op = ops[Math.floor(Math.random() * ops.length)];
  
  let correct;
  if (op === "+") {
    correct = num1 + num2;
  } else {
    correct = num1 - num2;
  }

  questionEl.textContent = `Solve: ${num1} ${op} ${num2}`;
  currentAnswer = correct;

  createBalloons(correct);
}

// Create balloons with possible answers
function createBalloons(correct) {
  gameContainer.innerHTML = "";
  balloonTimeouts.forEach(clearTimeout);
  balloonTimeouts = [];

  let answers = [correct];
  while (answers.length < 4) {
    let wrong = correct + Math.floor(Math.random() * 11) - 5; // near wrong answer
    if (!answers.includes(wrong)) answers.push(wrong);
  }
  answers = answers.sort(() => Math.random() - 0.5);

  answers.forEach((ans, i) => {
    const balloon = document.createElement("div");
    balloon.className = "balloon";
    balloon.textContent = ans;
    balloon.style.left = `${20 + i * 20}%`;
    balloon.style.background = ["red","blue","green","purple"][i % 4];

    balloon.addEventListener("click", () => {
      if (!gameActive) return;
      if (ans === currentAnswer) {
        score++;
        feedbackEl.textContent = "🎉 Correct! 🎉";
        feedbackEl.style.color = "green";
      } else {
        score--;
        feedbackEl.textContent = "❌ Wrong! ❌";
        feedbackEl.style.color = "red";
      }
      scoreEl.textContent = `Score: ${score}`;
      generateQuestion();
    });

    gameContainer.appendChild(balloon);

    // If balloon floats away
    const timeout = setTimeout(() => {
      if (ans === correct && gameActive) {
        score--;
        feedbackEl.textContent = "💨 Missed the correct answer!";
        feedbackEl.style.color = "orange";
        scoreEl.textContent = `Score: ${score}`;
        generateQuestion();
      }
    }, 8000);

    balloonTimeouts.push(timeout);
  });
}

// Restart the game
restartBtn.addEventListener("click", () => {
  score = 0;
  scoreEl.textContent = "Score: 0";
  feedbackEl.textContent = "";
  gameActive = true;
  generateQuestion();
});
</script>
</body>
</html>
